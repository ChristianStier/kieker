%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Introduction
% 
% $Date$
% $Revision$
% $Author$


\chapter{Introduction}\label{chap:introduction}

Modern software application are often complex and have to fulfill a large set of functional and non-functional properties. The behavior of such large systems cannot easily be determined on the basis of the source code. Even more, existing applications often lack sufficient documentation which makes it cumbersome to extend and change them for future needs. A solution to these problems can be monitoring, which allows to log the behavior of the application and to discover the application-internal control flows and response times of method executions.

The monitoring of the behavior can help in detecting performance problems, faulty behavior, intrusion detection, capacity planning and many other areas. The \Kieker{} framework provides the necessary monitoring capabilities and comes with tools and libraries for the analysis of monitored data. Even more, the framework supports monitoring at runtime with a very low overhead for the measurements, and offline evaluation of monitored data for a deeper inspection of the applications composition. 

%%
\section{What is \Kieker?}\label{sec:kieker}

The present version of \Kieker{} is a monitoring and analysis framework for Java applications. Figure \ref{fig:KiekerComponentDiagram} shows the framework's composition based on the two main components \KiekerMonitoringPart{} and \KiekerAnalysisPart{}. 

% This is the component diagram of Kieker (the satellite).
\begin{figure}[H]\centering
\includegraphics[width=0.73\textwidth]{images/kiekerComponentDiagram-woCloud-bw-w-record-newNames}
\caption{Overview of the framework components}
\label{fig:KiekerComponentDiagram}
\end{figure}
		
\noindent The \KiekerMonitoringPart{} component is responsible for the program instrumentation, data collection and logging. Its core is the class \class{MonitoringController} which receives the monitoring data in so-called monitoring records and writes these monitoring records into the configured monitoring log. 

The component \KiekerAnalysisPart{} is responsible for the analysis and possible visualization of the monitoring data. Its core is the class \class{AnalysisInstance} which manages the life-cycle of the monitoring log reader and all analysis plugins.

The monitoring and analysis parts of the \Kieker{} framework are composed of subcomponents which represent the different functionalities of the monitoring and analysis tasks. The important interaction pattern among the components is illustrated in Figure~\ref{fig:KiekerCommunicationDiagram} but will be explained furthermore throughout the course of this tutorial. 

% This image shows the communication diagram of the different components.
\begin{figure}[H]\centering
\includegraphics[width=1\textwidth]{images/kiekerCommunications-revisedReArranged-woMonitoringLog-bw-newNames}
\caption{Communication among \Kieker{} framework components}
\label{fig:KiekerCommunicationDiagram}
\end{figure}
		
% Notify-tag because it is explained how Kieker works.
% avh: removed
\noindent The monitoring probes create the monitoring records included the %
monitoring data and deliver them to the monitoring controller. %
The monitoring controller employs the monitoring log writers to write these %
monitoring records to the monitoring log. %
For analysis, a monitoring log reader reads the records from the monitoring log, 
which are then passed  who creates a monitoring record again. These records can %
then be further processed by the analysis plugins.

%%
% \section{Features}

Kieker includes monitoring log writers and readers for filesystems, SQL %
databases, and the Java Messaging Service~(JMS)~\cite{JMS-WebSite}. %
A special feature of Kieker is the ability to monitor and analyze (distributed) %
traces of method executions and corresponding timing information. %
For this purpose, Kieker includes monitoring probes employing %
AspectJ~\cite{AspectJ-WebSite}, %
Java~EE Servlet~\cite{JavaServletTechnology-WebSite}, %
Spring~\cite{Spring-WebSite}, and %
Apache~CXF~\cite{CXF-WebSite} technology. %
The \KiekerTraceAnalysis{} tool allows to reconstruct and visualize %
architectural models of the monitored systems, e.g., as sequence and %
dependency diagrams.

%%	
\section{Structure of this User Guide}

Based on a simple example, Chapter~\ref{chap:example} demonstrates %
how to manually instrument Java programs with \KiekerMonitoringPart{} %
in order to monitor timing information of method executions, and %
how to use \KiekerAnalysisPart{} to analyze the monitored data. %
Chapter~\ref{chap:componentsMonitoring} provides a more detailed %
description of \KiekerMonitoringPart{} and shows how to implement and %
use custom monitoring records, monitoring probes, and monitoring log writers. %
A more detailed description of \KiekerAnalysisPart{} and how to implement and use %
custom monitoring log readers, and analysis plugins follows in %
Chapter~\ref{chap:componentsAnalysis}. %
Chapter~\ref{chap:aspectJ} demonstrates how to use \KiekerTraceAnalysis{} %
for monitoring and analyzing/visualizing traces. %

\quad\\

% Notify-tag because this could be interesting for the reader.
\NOTIFYBOX{The Java sources presented in this user guide are included in the %
\file{\exampleDirFull/} directory of the \Kieker{} distribution (see %
Section \ref{sec:example:downloadInstall}).}

% \TODO{Point to Web site for additional examples, TR, \ldots}
