def DOCBASEFN = "kieker-userguide"

task buildDocumentation(type: Exec) {
  commandLine 'pdflatex', "$DOCBASEFN"
  commandLine 'bibtex', "$DOCBASEFN"
  commandLine 'pdflatex', "$DOCBASEFN"
  commandLine 'pdflatex', "$DOCBASEFN"
}

task cleanDocumentation(type: Delete) {
  delete fileTree(dir: '.', includes: ['*.aux, *.bbl', '*.blg', '*.glo', '*.idx', '*.log', '*.toc', '*.snm', '*.out', '*.nav', '*.bak', '*.vrb', 'backup'])  
}

buildDocumentation.finalizedBy cleanDocumentation