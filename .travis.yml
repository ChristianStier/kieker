sudo: required

language: bash

env:
  global:
    - KIEKER_GIT="https://github.com/kieker-monitoring/kieker.git"
    - GRADLE_TARGET="build"
    - GRADLE_EXCLUDES=""
    - DOCKER_IMAGE_TAG=openjdk6  

services:
  - docker

before_install:
  - docker pull kieker/kieker-build:$DOCKER_IMAGE_TAG

script:
  - docker run kieker/kieker-build:$DOCKER_IMAGE_TAG /bin/bash -c "git clone ${KIEKER_GIT} kieker && cd kieker/ && ./gradlew ${GRADLE_TARGET} ${GRADLE_EXCLUDES}"
